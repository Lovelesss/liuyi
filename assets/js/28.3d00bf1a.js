(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{350:function(t,r,o){"use strict";o.r(r);var e=o(33),n=Object(e.a)({},(function(){var t=this,r=t.$createElement,o=t._self._c||r;return o("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[o("h1",{attrs:{id:"mongodb备份-mongodump-与恢复-mongorestore"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#mongodb备份-mongodump-与恢复-mongorestore"}},[t._v("#")]),t._v(" MongoDB备份(mongodump)与恢复(mongorestore)")]),t._v(" "),o("hr"),t._v(" "),o("h3",{attrs:{id:"mongodb数据备份"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#mongodb数据备份"}},[t._v("#")]),t._v(" MongoDB数据备份")]),t._v(" "),o("div",{staticClass:"language- line-numbers-mode"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[t._v("mongodump -h dbhost -d dbname -o dbdirectory\n")])]),t._v(" "),o("div",{staticClass:"line-numbers-wrapper"},[o("span",{staticClass:"line-number"},[t._v("1")]),o("br")])]),o("ul",[o("li",[o("p",[t._v("-h:"),o("br"),t._v("\nMongDB所在服务器地址，例如：127.0.0.1，当然也可以指定端口号：127.0.0.1:27017")])]),t._v(" "),o("li",[o("p",[t._v("-d:"),o("br"),t._v("\n需要备份的数据库实例，例如：test")])]),t._v(" "),o("li",[o("p",[t._v("-o:"),o("br"),t._v("\n备份的数据存放位置，例如：c:\\data\\dump，当然该目录需要提前建立，在备份完成后，系统自动在dump目录下建立一个test目录，这个目录里面存放该数据库实例的备份数据。")])])]),t._v(" "),o("hr"),t._v(" "),o("h3",{attrs:{id:"mongodb数据恢复"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#mongodb数据恢复"}},[t._v("#")]),t._v(" MongoDB数据恢复")]),t._v(" "),o("div",{staticClass:"language- line-numbers-mode"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[t._v("mongorestore -h <hostname><:port> -d dbname <path>\n")])]),t._v(" "),o("div",{staticClass:"line-numbers-wrapper"},[o("span",{staticClass:"line-number"},[t._v("1")]),o("br")])]),o("ul",[o("li",[o("p",[t._v("--host <:port>, -h <:port>:"),o("br"),t._v("\nMongoDB所在服务器地址，默认为： localhost:27017")])]),t._v(" "),o("li",[o("p",[t._v("--db , -d ："),o("br"),t._v("\n需要恢复的数据库实例，例如：test，当然这个名称也可以和备份时候的不一样，比如test2")])]),t._v(" "),o("li",[o("p",[t._v("--drop:"),o("br"),t._v("\n恢复的时候，先删除当前数据，然后恢复备份的数据。就是说，恢复后，备份后添加修改的数据都会被删除，慎用哦！")])]),t._v(" "),o("li",[o("p",[t._v("<path>:"),o("br"),t._v("\nmongorestore 最后的一个参数，设置备份数据所在位置，例如：c:\\data\\dump\\test。\n你不能同时指定 <path> 和 --dir 选项，--dir也可以设置备份目录。")])]),t._v(" "),o("li",[o("p",[t._v("--dir:"),o("br"),t._v("\n指定备份的目录"),o("br"),t._v("\n你不能同时指定 <path> 和 --dir 选项。")])])])])}),[],!1,null,null,null);r.default=n.exports}}]);